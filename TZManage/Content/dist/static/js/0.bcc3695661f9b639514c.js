webpackJsonp([0],{1007:function(e,t,l){var a=l(679);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);l(212)("b45e46c4",a,!0)},3:function(e,t,l){l(1007);var a=l(213)(l(572),l(987),"data-v-714fc2b6",null);e.exports=a.exports},569:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"map-select",data:function(){var e=this;return{lng:0,lat:0,zoom:12,center:[121.420866,28.655815],address:"",loaded:!1,searchOption:{city:"台州",citylimit:!0},markers:[{position:[121.420866,28.655815]}],plugin:[{pName:"Geolocation",events:{init:function(t){t.getCurrentPosition(function(t,l){if(l&&l.position){e.lng=l.position.lng,e.lat=l.position.lat,e.center=[e.lng,e.lat],e.removeMarker(),e.addMarker(),e.loaded=!0;new AMap.Geocoder({radius:1e3,extensions:"all"}).getAddress(e.center,function(t,l){"complete"===t&&"OK"===l.info&&l&&l.regeocode&&(e.address=l.regeocode.formattedAddress,e.$nextTick())}),e.$nextTick()}})}}}],events:{click:function(t){var l=t.lnglat,a=l.lng,o=l.lat;e.lng=a,e.lat=o,e.removeMarker(),e.addMarker(),new AMap.Geocoder({radius:1e3,extensions:"all"}).getAddress([a,o],function(t,l){"complete"===t&&"OK"===l.info&&l&&l.regeocode&&(e.address=l.regeocode.formattedAddress,e.$nextTick())})}}}},methods:{handleClose:function(){this.$emit("selectMap",!1)},done:function(){console.log({lng:this.lng,lat:this.lat}),this.$emit("selectPosition",{lng:this.lng,lat:this.lat}),this.handleClose()},onSearchResult:function(e){var t=0,l=0;if(e.length>0){e.forEach(function(e){var a=e.lng,o=e.lat;l+=a,t+=o});var a={lng:l/e.length,lat:t/e.length};this.lng=a.lng,this.lat=a.lat,this.center=[a.lng,a.lat],this.removeMarker(),this.addMarker()}},addMarker:function(){var e={position:[this.lng,this.lat]};this.markers.push(e)},removeMarker:function(){this.markers.length&&this.markers.splice(this.markers.length-1,1)}},props:["mapShow"]}},571:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{append:!0,innerVisible:!1,formInline:{adcd:"331002",town:"",year:"",month:"",name:"",proNum:"",lineName:"",mileage:"",proDescribe:"",duration:"",proType:"0"},formLabelWidth:"120px",adcdOptions:[{value:"331002",label:"椒江区"},{value:"fankui",label:"路桥区"},{value:"xiaolv",label:"黄岩区"}],proOption:[{value:"0",label:"乱搭乱建"},{value:"1",label:"乱堆乱放"},{value:"2",label:"废品垃圾"}],rules:{adcd:[{required:!0,message:"请选择行政区划",trigger:"change"}],town:[{required:!0,message:"请输入乡镇街道",trigger:"blur"}],month:[{type:"date",required:!0,message:"请选择年度月份",trigger:"change"}],proNum:[{required:!0,message:"请输入问题编号",trigger:"blur"}],lineName:[{required:!0,message:"请输入线路名称",trigger:"blur"}],duration:[{required:!0,message:"请输入整治时限",trigger:"blur"}]}}},methods:{handleClose:function(){this.$emit("closeProAdd",!1)},openMap:function(){this.$emit("selectMap",!0)}},props:["formShow","sposition"]}},572:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(970),o=l.n(a),n=l(969),r=l.n(n);t.default={components:{vProblemForm:o.a,mapSelect:r.a},data:function(){return{url:"./static/vuetable.json",position:"",tableData:[],cur_page:1,multipleSelection:[],select_cate:"",select_years:"",select_word:"",select_adcd:"",select_area:"",select_problem_num:"",select_problem:"",del_list:[],is_search:!1,years:[2018,2017,2016],adlist:[{adcd:331002,adnm:"椒江区"},{adcd:331003,adnm:"路桥区"},{adcd:331004,adnm:"黄岩区"}],problems:[{id:1,label:"乱堆乱放"}],proAddShow:!1,mapSelectShow:!1,breadcrumb:[]}},created:function(){this.getData()},computed:{data:function(){return this.tableData}},methods:{handleCurrentChange:function(e){this.cur_page=e,this.getData()},getBreadcrumb:function(){var e=[],t=this.$route.query.first,l=this.$route.query.second,a=this.$route.query.third;switch((t||"Problem"===t)&&e.push("问题点位"),l||"Province"===l?e.push("省级点位"):l||"City"===l?e.push("市级点位"):(l||"City"===l)&&e.push("县级自查自纠点位"),a){case"jj":e.push("椒江区");break;case"hy":e.push("黄岩区");break;case"lq":e.push("路桥区");break;case"lh":e.push("临海市");break;case"wl":e.push("温岭市");break;case"yh":e.push("玉环市");break;case"xj":e.push("仙居县");break;case"sm":e.push("三门县");break;case"tt":e.push("天台县")}this.breadcrumb=[].concat(e)},getData:function(){var e=this;e.$axios.create({baseURL:"http://localhost:8080/",timeout:1e3,headers:{"X-Custom-Header":"foobar"}}).post(e.url,{page:e.cur_page}).then(function(t){e.tableData=i})},search:function(){this.is_search=!0},formatter:function(e,t){return e.address},handleEdit:function(e,t){this.$message("编辑第"+(e+1)+"行")},handleDelete:function(e,t){this.$message.error("删除第"+(e+1)+"行")},delAll:function(){var e=this,t=e.multipleSelection.length,l="";e.del_list=e.del_list.concat(e.multipleSelection);for(var a=0;a<t;a++)l+=e.multipleSelection[a].name+" ";e.$message.error("删除了"+l),e.multipleSelection=[]},handleSelectionChange:function(e){this.multipleSelection=e},closePro:function(e){this.proAddShow=e},closeMap:function(e){this.mapSelectShow=e},setPosition:function(e){this.position=e.lng+","+e.lat}},mounted:function(){this.getBreadcrumb()},watch:{$route:function(e,t){this.getBreadcrumb()}}};var i=[{id:1,adnm:"椒江区",problemNum:"jj001",lineName:"G15沈海",mileage:"椒江大桥下",problemName:"乱堆乱放",status:"审核通过"},{id:2,adnm:"椒江区",problemNum:"jj002",lineName:"G15沈海",mileage:"椒江大桥下",problemName:"乱堆乱放",status:"审核通过"},{id:1,adnm:"椒江区",problemNum:"jj003",lineName:"G15沈海",mileage:"椒江大桥下",problemName:"乱堆乱放",status:"审核通过"},{id:1,adnm:"椒江区",problemNum:"jj004",lineName:"G15沈海",mileage:"椒江大桥下",problemName:"乱堆乱放",status:"审核通过"},{id:1,adnm:"椒江区",problemNum:"jj005",lineName:"G15沈海",mileage:"椒江大桥下",problemName:"乱堆乱放",status:"审核通过"},{id:1,adnm:"椒江区",problemNum:"jj006",lineName:"G15沈海",mileage:"椒江大桥下",problemName:"乱堆乱放",status:"审核通过"},{id:1,adnm:"椒江区",problemNum:"jj007",lineName:"G15沈海",mileage:"椒江大桥下",problemName:"乱堆乱放",status:"审核通过"},{id:1,adnm:"椒江区",problemNum:"jj001",lineName:"G15沈海",mileage:"椒江大桥下",problemName:"乱堆乱放",status:"审核通过"},{id:1,adnm:"椒江区",problemNum:"jj001",lineName:"G15沈海",mileage:"椒江大桥下",problemName:"乱堆乱放",status:"审核通过"}]},667:function(e,t,l){t=e.exports=l(93)(!1),t.push([e.i,"#amapDemo,.amap-demo{height:300px}.search-box{position:absolute!important;top:25px;left:20px}.amap-page-container{position:relative}.toolbar{margin-top:10px}",""])},668:function(e,t,l){t=e.exports=l(93)(!1),t.push([e.i,"",""])},679:function(e,t,l){t=e.exports=l(93)(!1),t.push([e.i,".handle-box[data-v-714fc2b6]{margin-bottom:20px}.handle-select[data-v-714fc2b6]{width:120px}.handle-input[data-v-714fc2b6]{width:300px;display:inline-block}",""])},969:function(e,t,l){l(995),l(996);var a=l(213)(l(569),l(971),"data-v-068a25b2",null);e.exports=a.exports},970:function(e,t,l){var a=l(213)(l(571),l(986),null,null);e.exports=a.exports},971:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-dialog",{attrs:{title:"选择位置",visible:e.mapShow,size:"tiny","before-close":e.handleClose,width:"100%"},on:{"update:visible":function(t){e.mapShow=t}}},[l("div",{staticClass:"amap-page-container"},[l("el-amap-search-box",{staticClass:"search-box",attrs:{"search-option":e.searchOption,"on-search-result":e.onSearchResult}}),e._v(" "),l("el-amap",{staticClass:"amap-demo",attrs:{vid:"amapDemo",center:e.center,zoom:e.zoom,plugin:e.plugin,events:e.events}},e._l(e.markers,function(e,t){return l("el-amap-marker",{attrs:{position:e.position,vid:t}})}))],1),e._v(" "),l("div",{staticClass:"toolbar"},[l("p",[e._v("Position: ["+e._s(e.lng)+", "+e._s(e.lat)+"]")]),e._v(" "),l("p",[e._v("Address: "+e._s(e.address))])]),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.done}},[e._v("确 定")])],1)])},staticRenderFns:[]}},986:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-dialog",{attrs:{title:"新增问题",visible:e.formShow,"before-close":e.handleClose},on:{"update:visible":function(t){e.formShow=t}}},[l("el-form",{ref:"ruleForm",staticClass:"demo-form-inline demo-ruleForm",attrs:{inline:!0,model:e.formInline,rules:e.rules}},[l("el-form-item",{staticStyle:{width:"48%"},attrs:{label:"行政区划","label-width":e.formLabelWidth,prop:"adcd"}},[l("el-select",{model:{value:e.formInline.adcd,callback:function(t){e.$set(e.formInline,"adcd",t)},expression:"formInline.adcd"}},e._l(e.adcdOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",{staticStyle:{width:"48%"},attrs:{label:"乡镇街道","label-width":e.formLabelWidth,prop:"town"}},[l("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入乡镇街道"},model:{value:e.formInline.town,callback:function(t){e.$set(e.formInline,"town",t)},expression:"formInline.town"}})],1),e._v(" "),l("el-form-item",{staticStyle:{width:"48%"},attrs:{label:"年度月份","label-width":e.formLabelWidth,prop:"month"}},[l("el-date-picker",{attrs:{type:"month",placeholder:"选择年度月份"},model:{value:e.formInline.month,callback:function(t){e.$set(e.formInline,"month",t)},expression:"formInline.month"}})],1),e._v(" "),l("el-form-item",{staticStyle:{width:"48%"},attrs:{label:"问题编号","label-width":e.formLabelWidth,prop:"proNum"}},[l("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入问题编号"},model:{value:e.formInline.proNum,callback:function(t){e.$set(e.formInline,"proNum",t)},expression:"formInline.proNum"}})],1),e._v(" "),l("el-form-item",{staticStyle:{width:"48%"},attrs:{label:"线路名称","label-width":e.formLabelWidth,prop:"lineName"}},[l("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入线路名称"},model:{value:e.formInline.lineName,callback:function(t){e.$set(e.formInline,"lineName",t)},expression:"formInline.lineName"}})],1),e._v(" "),l("el-form-item",{staticStyle:{width:"48%"},attrs:{label:"里程","label-width":e.formLabelWidth}},[l("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入里程"},model:{value:e.formInline.mileage,callback:function(t){e.$set(e.formInline,"mileage",t)},expression:"formInline.mileage"}})],1),e._v(" "),l("el-form-item",{staticStyle:{width:"48%"},attrs:{label:"问题描述","label-width":e.formLabelWidth}},[l("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入问题描述"},model:{value:e.formInline.proDescribe,callback:function(t){e.$set(e.formInline,"proDescribe",t)},expression:"formInline.proDescribe"}})],1),e._v(" "),l("el-form-item",{staticStyle:{width:"48%"},attrs:{label:"整治时限","label-width":e.formLabelWidth,prop:"duration"}},[l("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入整治时限"},model:{value:e.formInline.duration,callback:function(t){e.$set(e.formInline,"duration",t)},expression:"formInline.duration"}})],1),e._v(" "),l("el-form-item",{staticStyle:{width:"48%"},attrs:{label:"问题分类","label-width":e.formLabelWidth}},[l("el-select",{attrs:{placeholder:"请选择问题分类"},model:{value:e.formInline.proType,callback:function(t){e.$set(e.formInline,"proType",t)},expression:"formInline.proType"}},e._l(e.proOption,function(e,t){return l("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",{staticStyle:{width:"48%"},attrs:{label:"定位信息","label-width":e.formLabelWidth}},[l("el-input",{attrs:{"auto-complete":"off",placeholder:"点击选择定位"},on:{focus:e.openMap},model:{value:e.sposition,callback:function(t){e.sposition=t},expression:"sposition"}})],1),e._v(" "),l("el-form-item",{staticStyle:{width:"48%"},attrs:{label:"备注","label-width":e.formLabelWidth}},[l("el-input",{attrs:{"auto-complete":"off"},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1)],1),e._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.handleClose}},[e._v("确 定")])],1)],1)},staticRenderFns:[]}},987:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"table"},[l("div",{staticClass:"crumbs"},[l("el-breadcrumb",{attrs:{separator:"/"}},e._l(e.breadcrumb,function(t,a){return l("el-breadcrumb-item",[0===a?l("i",{staticClass:"el-icon-menu"}):e._e(),e._v(" "+e._s(t))])}))],1),e._v(" "),l("div",{staticClass:"handle-box"},[l("el-select",{staticClass:"handle-select mr10",attrs:{placeholder:"年度"},model:{value:e.select_years,callback:function(t){e.select_years=t},expression:"select_years"}},e._l(e.years,function(e,t){return l("el-option",{key:t,attrs:{label:e,value:e}})})),e._v(" "),l("el-select",{staticClass:"handle-select mr10",attrs:{placeholder:"行政区划"},model:{value:e.select_adcd,callback:function(t){e.select_adcd=t},expression:"select_adcd"}},e._l(e.adlist,function(e,t){return l("el-option",{key:t,attrs:{label:e.adnm,value:e.adcd}})})),e._v(" "),l("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"所属区域"},model:{value:e.select_area,callback:function(t){e.select_area=t},expression:"select_area"}}),e._v(" "),l("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"问题编号"},model:{value:e.select_problem_num,callback:function(t){e.select_problem_num=t},expression:"select_problem_num"}}),e._v(" "),l("el-select",{staticClass:"handle-select mr10",attrs:{placeholder:"存在问题"},model:{value:e.select_problem,callback:function(t){e.select_problem=t},expression:"select_problem"}},e._l(e.problems,function(e,t){return l("el-option",{key:t,attrs:{label:e.label,value:e.id}})}))],1),e._v(" "),l("div",{staticClass:"handle-box"},[l("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"筛选关键词"},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}}),e._v(" "),l("el-button",{attrs:{type:"primary",icon:"search"},on:{click:e.search}},[e._v("搜索")]),e._v(" "),l("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.search}},[e._v("添加项目")]),e._v(" "),l("el-button",{attrs:{type:"primary",icon:"printer"},on:{click:e.search}},[e._v("数据导出")]),e._v(" "),l("el-button",{attrs:{type:"primary",icon:"upload2"},on:{click:function(t){e.proAddShow=!0}}},[e._v("上报问题")]),e._v(" "),l("vProblemForm",{attrs:{formShow:e.proAddShow,sposition:e.position},on:{closeProAdd:e.closePro,selectMap:e.closeMap}}),e._v(" "),l("map-select",{attrs:{mapShow:e.mapSelectShow},on:{selectMap:e.closeMap,selectPosition:e.setPosition}}),e._v(" "),l("el-button",{attrs:{type:"primary",icon:""},on:{click:e.search}},[e._v("整改完成")])],1),e._v(" "),l("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.data,border:""},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),l("el-table-column",{attrs:{prop:"adnm",label:"行政区划",sortable:"",width:"150"}}),e._v(" "),l("el-table-column",{attrs:{prop:"problemNum",label:"问题编号",width:"120"}}),e._v(" "),l("el-table-column",{attrs:{prop:"lineName",label:"线路名称"}}),e._v(" "),l("el-table-column",{attrs:{prop:"mileage",label:"里程"}}),e._v(" "),l("el-table-column",{attrs:{prop:"problemName",label:"问题名称"}}),e._v(" "),l("el-table-column",{attrs:{prop:"status",label:"状态"}}),e._v(" "),l("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{size:"small"},on:{click:function(l){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),l("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(l){e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),l("div",{staticClass:"pagination"},[l("el-pagination",{attrs:{layout:"prev, pager, next",total:1e3},on:{"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]}},995:function(e,t,l){var a=l(667);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);l(212)("ada04972",a,!0)},996:function(e,t,l){var a=l(668);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);l(212)("12f182db",a,!0)}});